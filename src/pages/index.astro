---
import HeroLayout from "../layouts/HeroLayout.astro";
import homedata from "../data/home.json";
---

<HeroLayout>
    <main>
        <div class="big-search-field">
            <input type="text" class="search" placeholder="Search the Integrated Data Service..." />
            <input type="button" class="submit-search" />
        </div>
        
        { homedata.map((section) => (
            <section>
                <div class="section-summary">
                    <span class="number">{ section.data.length }</span>
                    <h1>{ section.title }</h1>
                </div>
                <div class="list">
                    { section.data.map((item) => (
                        <div class="list-item">
                            <a href="#">{ item.label }</a>
                            { item.description && <p>{ item.description }</p>}
                        </div>
                    ))}    
                </div>
            </section>
        ))}
    </main>
</HeroLayout>

<style>
    main {
        margin-top: -120px;
        position: relative;
        z-index: 10;
    }

    .big-search-field {
        position: relative;
    }

    .submit-search {
        position: absolute;
        top: 12px;
        right: 12px;
        height: 56px;
        width: 56px;
        border: 0;
        border-radius: 8px;
        background-image: url(/images/icons/forward.svg);
        background-repeat: no-repeat;
        background-position: center center;
        background-color: var(--color-purple);
        transition: all 0.2s ease-in-out;
        transform: scale(1);
    }

    .submit-search:hover {
        transform: scale(1.2);
        border-radius: 9px;
        cursor: pointer;
    }

    .search {
        height: 80px;
        border: 4px solid var(--color-black);
        width: 100%;
        border-radius: 16px;
        box-sizing: border-box;
        padding: 0 12px 0 72px;
        background-image: url(/images/icons/search.svg);
        background-repeat: no-repeat;
        background-position: 16px;
        background-color: var(--color-white);
        font-size: 24px;
        transition: box-shadow 0.2s ease-in-out;
    }

    .search:focus {
        box-shadow: 0 0 0 8px var(--color-orange);
        outline: none;
    }

    section {
        display: grid;
        grid-template-columns: 1fr 2fr;
        padding: 80px 0;
        border-bottom: 1px solid var(--color-border);
    }

    section:first-child {
        padding-top: 0;
    }

    .section-summary {
        color: var(--color-purple);
    }

    .section-summary .number {
        font-size: 128px;
        line-height: 128px;
        font-family: "Cal Sans", sans-serif;
    }

    .section-summary h1 {
        margin: 0;
    }

    .list {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 24px 40px;
    }

    .list-item p {
        margin: 8px 0 0;
    }
</style>